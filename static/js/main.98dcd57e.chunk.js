(this.webpackJsonpstattracker=this.webpackJsonpstattracker||[]).push([[0],{58:function(e,t,a){e.exports=a(79)},63:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),u=a.n(c),l=(a(63),a(9)),o=a(7),i=a(10),s=a(11),m=a(12),p=a(25),d=a(24),E=a(46),b=a(47),h=a(5),O=a(13),j={Lumberjack:{name:"Lumberjack",currency:"Wood",quant:0,cost:10,currentMult:1,costMult:1.1},Miner:{name:"Miner",currency:"Iron",quant:0,cost:10,currentMult:1,costMult:1.1},Farmer:{name:"Farmer",currency:"Grain",quant:0,cost:10,currentMult:1,costMult:1.1},Hunter:{name:"Hunter",currency:"Meat",quant:0,cost:10,currentMult:1,costMult:1.1},Scientist:{name:"Scientist",currency:"Research",quant:0,cost:10,currentMult:1,costMult:1.1},Priest:{name:"Priest",currency:"Faith",quant:0,cost:10,currentMult:1,costMult:1.1}},f={speed:1,speedMult:1,age:0,buyMult:1},v={Coin:{name:"Coin",quant:0,rate:1,rateMult:1,cap:5e3},Wood:{name:"Wood",quant:0,rate:0,rateMult:1,cap:100},Iron:{name:"Iron",quant:0,rate:0,rateMult:1,cap:100},Grain:{name:"Grain",quant:0,rate:0,rateMult:1,cap:100},Meat:{name:"Meat",quant:0,rate:0,rateMult:1,cap:100},Research:{name:"Research",quant:0,rate:0,rateMult:1,cap:100},Faith:{name:"Faith",quant:0,rate:0,rateMult:1,cap:100}},y=Object(d.combineReducers)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;return t.type,e},villager:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_WORKER":var a=e[t.id];return Object(O.a)({},e,Object(h.a)({},t.id,Object(O.a)({},a,{quant:e[t.id].quant+t.quant,currentMult:+(e[t.id].currentMult*e[t.id].costMult).toFixed(2)})));case"REMOVE_WORKER":var n=e[t.id];return Object(O.a)({},e,Object(h.a)({},t.id,Object(O.a)({},n,{quant:e[t.id].quant-t.quant,currentMult:+(e[t.id].currentMult/e[t.id].costMult).toFixed(2)})));default:return e}},currency:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TICK":return Object.entries(e).reduce((function(e,t){var a=t[0],n=t[1],r=n.rate*n.rateMult;return n.quant-n.cap>=0||n.quant+r>=n.cap?Object(O.a)({},e,Object(h.a)({},a,Object(O.a)({},n,{quant:n.cap}))):Object(O.a)({},e,Object(h.a)({},a,Object(O.a)({},n,{quant:Math.round(n.quant+r)})))}),{});case"CHANGE_RATE":var a=e[t.id];return Object(O.a)({},e,Object(h.a)({},t.id,Object(O.a)({},a,{rate:a.rate+t.rate})));case"ADD_COIN":var n=e[t.id];return Object(O.a)({},e,Object(h.a)({},t.id,Object(O.a)({},n,{quant:Math.round(n.quant+t.quant)})));case"REMOVE_COIN":var r=e[t.id];return Object(O.a)({},e,Object(h.a)({},t.id,Object(O.a)({},r,{quant:Math.round(r.quant-t.quant)})));default:return e}}}),M=function(){try{localStorage.removeItem("villageIdleGameState")}catch(e){}},q=a(48),C=a.n(q),S=function(){try{var e=localStorage.getItem("villageIdleGameState");return null===e?{}:JSON.parse(e)}catch(t){return}}(),g=[b.a],k=Object(d.createStore)((function(e,t){return"RESET_GAME"===t.type&&(e=void 0),y(e,t)}),S,Object(E.composeWithDevTools)(d.applyMiddleware.apply(void 0,g)));k.subscribe(C()((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("villageIdleGameState",t)}catch(a){}}(k.getState())}),1e3));var I=k,R=a(33),N=a(29),A=a(104),T=a(102),F=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){e.props.tick()}),1e3/(this.props.state.game.speed*this.props.state.game.speedMult))}},{key:"componenDidUpdate",value:function(){var e=this;clearInterval(),setInterval((function(){e.props.tick()}),1e3/(this.props.state.game.speed*this.props.state.game.speedMult))}},{key:"componentWillUnmount",value:function(){clearInterval()}},{key:"render",value:function(){var e=this.props.state.currency;return r.a.createElement(A.a,{className:"fightScene"},Object.entries(e).map((function(e){var t=e[1];return r.a.createElement(T.a,{className:"currency",key:t.name},t.name,": ",t.quant)})))}}]),t}(n.Component),W=Object(p.b)((function(e){return{state:e}}),{tick:function(){return function(e){return e({type:"TICK"})}}})(F),w=a(95),G=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).resetState=function(e){1==window.confirm("Are you sure?")&&(M(),a.props.resetGame())},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"THIS IS A HEADER.",r.a.createElement(w.a,{variant:"text",onClick:this.resetState},"RESET"))}}]),t}(n.Component),B=Object(p.b)(null,{resetGame:function(){return function(e){return e({type:"RESET_GAME"})}}})(G),D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).handleBuy=function(e){var t=a.props,n=a.props.currency,r=a.props[a.props.class];Math.round(r.cost*r.currentMult)<=n.Coin.quant&&(t.addWorker(r.name,a.props.quant),t.removeCoin("Coin",Math.round(r.cost*r.currentMult)),t.changeRate(r.currency,a.props.quant))},a.handleSell=function(e){var t=a.props,n=(a.props.currency,a.props[a.props.class]);n.quant>0&&(t.removeWorker(n.name,a.props.quant),t.addCoin("Coin",Math.round(n.cost*n.currentMult)),t.changeRate(n.currency,-1*a.props.quant))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props[this.props.class];return r.a.createElement(T.a,{className:"heroBlockMainBody"},r.a.createElement(T.a,{className:"infoBlock"},r.a.createElement("div",null,e.name,": ",e.quant)),r.a.createElement(T.a,{className:"buttonBlock"},r.a.createElement(w.a,{variant:"text",onClick:this.handleSell}," SELL "),r.a.createElement(w.a,{variant:"text",onClick:this.handleBuy}," BUY "),r.a.createElement("div",null,"Cost: ",Math.round(e.cost*e.currentMult))))}}]),t}(n.Component),_=Object(p.b)((function(e,t){return Object(h.a)({currency:e.currency},t.class,e.villager[t.class])}),{addCoin:function(e,t){return function(a){return a({type:"ADD_COIN",id:e,quant:t})}},removeCoin:function(e,t){return function(a){return a({type:"REMOVE_COIN",id:e,quant:t})}},addWorker:function(e,t){return function(a){return a({type:"ADD_WORKER",quant:t,id:e})}},removeWorker:function(e,t){return function(a){return a({type:"REMOVE_WORKER",id:e,quant:t})}},changeRate:function(e,t){return function(a){return a({type:"CHANGE_RATE",id:e,rate:t})}}})(D),H=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(A.a,{className:"heroContainer"},r.a.createElement(_,{class:"Scientist",quant:1}),r.a.createElement("hr",null),r.a.createElement(_,{class:"Lumberjack",quant:1}),r.a.createElement("hr",null),r.a.createElement(_,{class:"Miner",quant:1}),r.a.createElement("hr",null),r.a.createElement(_,{class:"Farmer",quant:1}),r.a.createElement("hr",null),r.a.createElement(_,{class:"Hunter",quant:1}),r.a.createElement("hr",null),r.a.createElement(_,{class:"Priest",quant:1}))}}]),t}(n.Component),L=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"THIS IS THE LABOR CONTAINER")}}]),t}(n.Component),x=a(96),U=a(103),K=a(105),V=a(97),J=a(98),P=a(99),Y=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(x.a,{disablePadding:!0,dense:!0,className:"sidebar"},r.a.createElement(R.b,{to:"/"},r.a.createElement(U.a,{button:!0},r.a.createElement(V.a,null),r.a.createElement(K.a,null,"VILLAGE"))),r.a.createElement(R.b,{to:"/labor"},r.a.createElement(U.a,{button:!0},r.a.createElement(J.a,null),r.a.createElement(K.a,null,"LABOR"))),r.a.createElement(R.b,{to:"/science"},r.a.createElement(U.a,{button:!0},r.a.createElement(P.a,null),r.a.createElement(K.a,null,"SCIENCE"))),r.a.createElement(U.a,{button:!0},r.a.createElement(K.a,null,"STUFF")),r.a.createElement(U.a,{button:!0},r.a.createElement(K.a,null,"STUFF")),r.a.createElement(U.a,{button:!0},r.a.createElement(K.a,null,"STUFF")),r.a.createElement(U.a,{button:!0},r.a.createElement(K.a,null,"STUFF")))}}]),t}(n.Component),$=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"THIS IS THE SCIENCE CONTAINER")}}]),t}(n.Component),z=(a(78),a(100)),Q=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(R.a,null,r.a.createElement(p.a,{store:I},r.a.createElement(z.a,{className:"mainBody",maxWidth:"xl",disableGutters:!1},r.a.createElement(B,null),r.a.createElement(T.a,{className:"screen"},r.a.createElement(Y,null),r.a.createElement(T.a,{className:"mainScreen"},r.a.createElement(W,null),r.a.createElement(N.c,null,r.a.createElement(N.a,{path:"/science"},r.a.createElement($,null)),r.a.createElement(N.a,{path:"/labor"},r.a.createElement(L,null)),r.a.createElement(N.a,{path:"/"},r.a.createElement(H,null))))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[58,1,2]]]);
//# sourceMappingURL=main.98dcd57e.chunk.js.map